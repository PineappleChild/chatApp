<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Chat App</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <script defer src="/socket.io/socket.io.js"></script>
  <script defer src="script.js"></script>
  <style>
    #roomElem{
     background-color: #f0f7fb;
     color: white;
     margin-top: 5px;
     margin-bottom: 5px;
     background-position: 9px 0px;
     background-repeat: no-repeat;
     border-left: solid 4px #3498db;
     line-height: 18px;
     overflow: hidden;
     padding: 15px 20px;
    }
    #roomElem:visited{
      text-decoration: none;
      color: white;
    }

    #serverH1{
      font-size: 30px;
      padding-bottom: 8px;
      border-bottom: 3px solid black;
    }
  </style>
</head>
<body>
  <div id="" class="container mt-5">
    <form action="/room" method="POST">
      <input id="roomInput" name="room" type="text" required>
      <button type="submit">New Room</button>
    </form>
    <h1 id="serverH1" class="mt-5">Servers</h1>
    <div id="room-container" class="mt-3">
      <% Object.keys(rooms).forEach(room => { %>
        <div id="roomElem">
          <a href="/<%= room %>">Server: <%= room %></a>
        </div>
      <% }) %>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script>
    $(function(){
      $('#roomInput').keypress(function(e){
        // allowed char: 1 , 2 , 3, 4, 5, N, O, A, B, C
        let allow_char = [97,98,99,100,101,102,103,104,105,106,107,
        108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,
        48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,
        75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90];
        if(allow_char.indexOf(e.which) !== -1 ){
          console.log("SPSPS")
        }
        else{
          return false;
        }
      });
    });
  </script>
</body>
</html>